"use strict";
var _a;
Object.defineProperty(exports, "__esModule", { value: true });
exports.TerraformSelf = void 0;
const JSII_RTTI_SYMBOL_1 = Symbol.for("jsii.rtti");
// Copyright (c) HashiCorp, Inc
// SPDX-License-Identifier: MPL-2.0
const tfExpression_1 = require("./tfExpression");
const token_1 = require("./tokens/token");
const util_1 = require("./util");
/**
 * Expressions in connection blocks cannot refer to their parent resource by name.
 * References create dependencies, and referring to a resource by name within its own block would create a dependency cycle.
 * Instead, expressions can use the self object, which represents the connection's parent resource and has all of that resource's attributes.
 * For example, use self.public_ip to reference an aws_instance's public_ip attribute.
 */
class TerraformSelf {
    static getInterpolation(key) {
        return `self.${util_1.snakeCase(key)}`;
    }
    /**
     * Only usable within a connection block to reference the connections parent resource.
     * Access a property on the resource like this: `getString("publicIp")`
     */
    static getString(key) {
        return token_1.Token.asString(tfExpression_1.ref(TerraformSelf.getInterpolation(key)));
    }
    /**
     * Only usable within a connection block to reference the connections parent resource.
     * Access a property on the resource like this: `getNumber("hostPort")`
     */
    static getNumber(key) {
        return token_1.Token.asNumber(tfExpression_1.ref(TerraformSelf.getInterpolation(key)));
    }
    /**
     * Only usable within a connection block to reference the connections parent resource.
     * Access a property on the resource like this: `getAny("hostPort")`
     */
    static getAny(key) {
        return token_1.Token.asAny(tfExpression_1.ref(TerraformSelf.getInterpolation(key)));
    }
}
exports.TerraformSelf = TerraformSelf;
_a = JSII_RTTI_SYMBOL_1;
TerraformSelf[_a] = { fqn: "cdktf.TerraformSelf", version: "0.13.0" };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVycmFmb3JtLXByb3Zpc2lvbmVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsidGVycmFmb3JtLXByb3Zpc2lvbmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsK0JBQStCO0FBQy9CLG1DQUFtQztBQUNuQyxpREFBcUM7QUFDckMsMENBQXVDO0FBQ3ZDLGlDQUFtQztBQXVWbkM7Ozs7O0dBS0c7QUFDSCxNQUFhLGFBQWE7SUFDaEIsTUFBTSxDQUFDLGdCQUFnQixDQUFDLEdBQVc7UUFDekMsT0FBTyxRQUFRLGdCQUFTLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztJQUNsQyxDQUFDO0lBRUQ7OztPQUdHO0lBQ0ksTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFXO1FBQ2pDLE9BQU8sYUFBSyxDQUFDLFFBQVEsQ0FBQyxrQkFBRyxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbEUsQ0FBQztJQUVEOzs7T0FHRztJQUNJLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBVztRQUNqQyxPQUFPLGFBQUssQ0FBQyxRQUFRLENBQUMsa0JBQUcsQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2xFLENBQUM7SUFFRDs7O09BR0c7SUFDSSxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQVc7UUFDOUIsT0FBTyxhQUFLLENBQUMsS0FBSyxDQUFDLGtCQUFHLENBQUMsYUFBYSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMvRCxDQUFDOztBQTNCSCxzQ0E0QkMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIEhhc2hpQ29ycCwgSW5jXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTVBMLTIuMFxuaW1wb3J0IHsgcmVmIH0gZnJvbSBcIi4vdGZFeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBUb2tlbiB9IGZyb20gXCIuL3Rva2Vucy90b2tlblwiO1xuaW1wb3J0IHsgc25ha2VDYXNlIH0gZnJvbSBcIi4vdXRpbFwiO1xuLyoqXG4gKiBNb3N0IHByb3Zpc2lvbmVycyByZXF1aXJlIGFjY2VzcyB0byB0aGUgcmVtb3RlIHJlc291cmNlIHZpYSBTU0ggb3IgV2luUk0gYW5kIGV4cGVjdCBhIG5lc3RlZCBjb25uZWN0aW9uIGJsb2NrIHdpdGggZGV0YWlscyBhYm91dCBob3cgdG8gY29ubmVjdC5cbiAqXG4gKiBTZWUge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9sYW5ndWFnZS9yZXNvdXJjZXMvcHJvdmlzaW9uZXJzL2Nvbm5lY3Rpb24gY29ubmVjdGlvbn1cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTU0hQcm92aXNpb25lckNvbm5lY3Rpb24ge1xuICAvKipcbiAgICogVGhlIGNvbm5lY3Rpb24gdHlwZS4gVmFsaWQgdmFsdWVzIGFyZSBcInNzaFwiIGFuZCBcIndpbnJtXCIuXG4gICAqIFByb3Zpc2lvbmVycyB0eXBpY2FsbHkgYXNzdW1lIHRoYXQgdGhlIHJlbW90ZSBzeXN0ZW0gcnVucyBNaWNyb3NvZnQgV2luZG93cyB3aGVuIHVzaW5nIFdpblJNLlxuICAgKiBCZWhhdmlvcnMgYmFzZWQgb24gdGhlIFNTSCB0YXJnZXRfcGxhdGZvcm0gd2lsbCBmb3JjZSBXaW5kb3dzLXNwZWNpZmljIGJlaGF2aW9yIGZvciBXaW5STSwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gICAqL1xuICByZWFkb25seSB0eXBlOiBcInNzaFwiO1xuXG4gIC8qKlxuICAgKiBUaGUgdXNlciB0byB1c2UgZm9yIHRoZSBjb25uZWN0aW9uLlxuICAgKlxuICAgKiBAZGVmYXVsdCByb290XG4gICAqL1xuICByZWFkb25seSB1c2VyPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgcGFzc3dvcmQgdG8gdXNlIGZvciB0aGUgY29ubmVjdGlvbi5cbiAgICovXG4gIHJlYWRvbmx5IHBhc3N3b3JkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgYWRkcmVzcyBvZiB0aGUgcmVzb3VyY2UgdG8gY29ubmVjdCB0by5cbiAgICovXG4gIHJlYWRvbmx5IGhvc3Q6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHBvcnQgdG8gY29ubmVjdCB0by5cbiAgICpcbiAgICogQGRlZmF1bHQgMjJcbiAgICovXG4gIHJlYWRvbmx5IHBvcnQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB0aW1lb3V0IHRvIHdhaXQgZm9yIHRoZSBjb25uZWN0aW9uIHRvIGJlY29tZSBhdmFpbGFibGUuXG4gICAqIFNob3VsZCBiZSBwcm92aWRlZCBhcyBhIHN0cmluZyAoZS5nLiwgXCIzMHNcIiBvciBcIjVtXCIuKVxuICAgKlxuICAgKiBAZGVmYXVsdCA1bVxuICAgKi9cbiAgcmVhZG9ubHkgdGltZW91dD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHBhdGggdXNlZCB0byBjb3B5IHNjcmlwdHMgbWVhbnQgZm9yIHJlbW90ZSBleGVjdXRpb24uXG4gICAqIFJlZmVyIHRvIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vbGFuZ3VhZ2UvcmVzb3VyY2VzL3Byb3Zpc2lvbmVycy9jb25uZWN0aW9uI2hvdy1wcm92aXNpb25lcnMtZXhlY3V0ZS1yZW1vdGUtc2NyaXB0cyBIb3cgUHJvdmlzaW9uZXJzIEV4ZWN1dGUgUmVtb3RlIFNjcmlwdHMgYmVsb3cgZm9yIG1vcmUgZGV0YWlsc31cbiAgICovXG4gIHJlYWRvbmx5IHNjcmlwdFBhdGg/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBjb250ZW50cyBvZiBhbiBTU0gga2V5IHRvIHVzZSBmb3IgdGhlIGNvbm5lY3Rpb24uXG4gICAqIFRoZXNlIGNhbiBiZSBsb2FkZWQgZnJvbSBhIGZpbGUgb24gZGlzayB1c2luZyB0aGUgZmlsZSBmdW5jdGlvbi5cbiAgICogVGhpcyB0YWtlcyBwcmVmZXJlbmNlIG92ZXIgcGFzc3dvcmQgaWYgcHJvdmlkZWQuXG4gICAqL1xuICByZWFkb25seSBwcml2YXRlS2V5Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgY29udGVudHMgb2YgYSBzaWduZWQgQ0EgQ2VydGlmaWNhdGUuXG4gICAqIFRoZSBjZXJ0aWZpY2F0ZSBhcmd1bWVudCBtdXN0IGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBhIHByaXZhdGVfa2V5LlxuICAgKiBUaGVzZSBjYW4gYmUgbG9hZGVkIGZyb20gYSBmaWxlIG9uIGRpc2sgdXNpbmcgdGhlIHRoZSBmaWxlIGZ1bmN0aW9uLlxuICAgKi9cbiAgcmVhZG9ubHkgY2VydGlmaWNhdGU/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIHVzaW5nIHNzaC1hZ2VudCB0byBhdXRoZW50aWNhdGUuXG4gICAqIE9uIFdpbmRvd3MgdGhlIG9ubHkgc3VwcG9ydGVkIFNTSCBhdXRoZW50aWNhdGlvbiBhZ2VudCBpcyBQYWdlYW50LlxuICAgKi9cbiAgcmVhZG9ubHkgYWdlbnQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBwcmVmZXJyZWQgaWRlbnRpdHkgZnJvbSB0aGUgc3NoIGFnZW50IGZvciBhdXRoZW50aWNhdGlvbi5cbiAgICovXG4gIHJlYWRvbmx5IGFnZW50SWRlbnRpdHk/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBwdWJsaWMga2V5IGZyb20gdGhlIHJlbW90ZSBob3N0IG9yIHRoZSBzaWduaW5nIENBLCB1c2VkIHRvIHZlcmlmeSB0aGUgY29ubmVjdGlvbi5cbiAgICovXG4gIHJlYWRvbmx5IGhvc3RLZXk/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB0YXJnZXQgcGxhdGZvcm0gdG8gY29ubmVjdCB0by5cbiAgICogVmFsaWQgdmFsdWVzIGFyZSBcIndpbmRvd3NcIiBhbmQgXCJ1bml4XCIuXG4gICAqIElmIHRoZSBwbGF0Zm9ybSBpcyBzZXQgdG8gd2luZG93cywgdGhlIGRlZmF1bHQgc2NyaXB0X3BhdGggaXMgYzpcXHdpbmRvd3NcXHRlbXBcXHRlcnJhZm9ybV8lUkFORCUuY21kLCBhc3N1bWluZyB0aGUgU1NIIGRlZmF1bHQgc2hlbGwgaXMgY21kLmV4ZS5cbiAgICogSWYgdGhlIFNTSCBkZWZhdWx0IHNoZWxsIGlzIFBvd2VyU2hlbGwsIHNldCBzY3JpcHRfcGF0aCB0byBcImM6L3dpbmRvd3MvdGVtcC90ZXJyYWZvcm1fJVJBTkQlLnBzMVwiXG4gICAqIEBkZWZhdWx0IHVuaXhcbiAgICovXG4gIHJlYWRvbmx5IHRhcmdldFBsYXRmb3JtPzogXCJ1bml4XCIgfCBcIndpbmRvd3NcIjtcblxuICAvKipcbiAgICogU2V0dGluZyB0aGlzIGVuYWJsZXMgdGhlIGJhc3Rpb24gSG9zdCBjb25uZWN0aW9uLlxuICAgKiBUaGUgcHJvdmlzaW9uZXIgd2lsbCBjb25uZWN0IHRvIGJhc3Rpb25faG9zdCBmaXJzdCwgYW5kIHRoZW4gY29ubmVjdCBmcm9tIHRoZXJlIHRvIGhvc3QuXG4gICAqL1xuICByZWFkb25seSBiYXN0aW9uSG9zdD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHB1YmxpYyBrZXkgZnJvbSB0aGUgcmVtb3RlIGhvc3Qgb3IgdGhlIHNpZ25pbmcgQ0EsIHVzZWQgdG8gdmVyaWZ5IHRoZSBob3N0IGNvbm5lY3Rpb24uXG4gICAqL1xuICByZWFkb25seSBiYXN0aW9uSG9zdEtleT86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHBvcnQgdG8gdXNlIGNvbm5lY3QgdG8gdGhlIGJhc3Rpb24gaG9zdC5cbiAgICovXG4gIHJlYWRvbmx5IGJhc3Rpb25Qb3J0PzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdXNlciBmb3IgdGhlIGNvbm5lY3Rpb24gdG8gdGhlIGJhc3Rpb24gaG9zdC5cbiAgICovXG4gIHJlYWRvbmx5IGJhc3Rpb25Vc2VyPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgcGFzc3dvcmQgdG8gdXNlIGZvciB0aGUgYmFzdGlvbiBob3N0LlxuICAgKi9cbiAgcmVhZG9ubHkgYmFzdGlvblBhc3N3b3JkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgY29udGVudHMgb2YgYW4gU1NIIGtleSBmaWxlIHRvIHVzZSBmb3IgdGhlIGJhc3Rpb24gaG9zdC5cbiAgICogVGhlc2UgY2FuIGJlIGxvYWRlZCBmcm9tIGEgZmlsZSBvbiBkaXNrIHVzaW5nIHRoZSBmaWxlIGZ1bmN0aW9uLlxuICAgKi9cbiAgcmVhZG9ubHkgYmFzdGlvblByaXZhdGVLZXk/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBjb250ZW50cyBvZiBhIHNpZ25lZCBDQSBDZXJ0aWZpY2F0ZS5cbiAgICogVGhlIGNlcnRpZmljYXRlIGFyZ3VtZW50IG11c3QgYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIGEgYmFzdGlvbl9wcml2YXRlX2tleS5cbiAgICogVGhlc2UgY2FuIGJlIGxvYWRlZCBmcm9tIGEgZmlsZSBvbiBkaXNrIHVzaW5nIHRoZSB0aGUgZmlsZSBmdW5jdGlvbi5cbiAgICovXG4gIHJlYWRvbmx5IGJhc3Rpb25DZXJ0aWZpY2F0ZT86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHNzaCBjb25uZWN0aW9uIGFsc28gc3VwcG9ydHMgdGhlIGZvbGxvd2luZyBmaWVsZHMgdG8gZmFjaWxpdGF0ZSBjb25uZWN0aW9ucyBieSBTU0ggb3ZlciBIVFRQIHByb3h5LlxuICAgKi9cbiAgcmVhZG9ubHkgcHJveHlTY2hlbWU/OiBcImh0dHBcIiB8IFwiaHR0cHNcIjtcblxuICAvKipcbiAgICogU2V0dGluZyB0aGlzIGVuYWJsZXMgdGhlIFNTSCBvdmVyIEhUVFAgY29ubmVjdGlvbi5cbiAgICogVGhpcyBob3N0IHdpbGwgYmUgY29ubmVjdGVkIHRvIGZpcnN0LCBhbmQgdGhlbiB0aGUgaG9zdCBvciBiYXN0aW9uX2hvc3QgY29ubmVjdGlvbiB3aWxsIGJlIG1hZGUgZnJvbSB0aGVyZS5cbiAgICovXG4gIHJlYWRvbmx5IHByb3h5SG9zdD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHBvcnQgdG8gdXNlIGNvbm5lY3QgdG8gdGhlIHByb3h5IGhvc3QuXG4gICAqL1xuICByZWFkb25seSBwcm94eVBvcnQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB1c2VybmFtZSB0byB1c2UgY29ubmVjdCB0byB0aGUgcHJpdmF0ZSBwcm94eSBob3N0LlxuICAgKiBUaGlzIGFyZ3VtZW50IHNob3VsZCBiZSBzcGVjaWZpZWQgb25seSBpZiBhdXRoZW50aWNhdGlvbiBpcyByZXF1aXJlZCBmb3IgdGhlIEhUVFAgUHJveHkgc2VydmVyLlxuICAgKi9cbiAgcmVhZG9ubHkgcHJveHlVc2VyTmFtZT86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHBhc3N3b3JkIHRvIHVzZSBjb25uZWN0IHRvIHRoZSBwcml2YXRlIHByb3h5IGhvc3QuXG4gICAqIFRoaXMgYXJndW1lbnQgc2hvdWxkIGJlIHNwZWNpZmllZCBvbmx5IGlmIGF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIGZvciB0aGUgSFRUUCBQcm94eSBzZXJ2ZXIuXG4gICAqL1xuICByZWFkb25seSBwcm94eVVzZXJQYXNzd29yZD86IHN0cmluZztcbn1cblxuLyoqXG4gKiBNb3N0IHByb3Zpc2lvbmVycyByZXF1aXJlIGFjY2VzcyB0byB0aGUgcmVtb3RlIHJlc291cmNlIHZpYSBTU0ggb3IgV2luUk0gYW5kIGV4cGVjdCBhIG5lc3RlZCBjb25uZWN0aW9uIGJsb2NrIHdpdGggZGV0YWlscyBhYm91dCBob3cgdG8gY29ubmVjdC5cbiAqXG4gKiBTZWUge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9sYW5ndWFnZS9yZXNvdXJjZXMvcHJvdmlzaW9uZXJzL2Nvbm5lY3Rpb24gY29ubmVjdGlvbn1cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBXaW5ybVByb3Zpc2lvbmVyQ29ubmVjdGlvbiB7XG4gIC8qKlxuICAgKiBUaGUgY29ubmVjdGlvbiB0eXBlLiBWYWxpZCB2YWx1ZXMgYXJlIFwic3NoXCIgYW5kIFwid2lucm1cIi5cbiAgICogUHJvdmlzaW9uZXJzIHR5cGljYWxseSBhc3N1bWUgdGhhdCB0aGUgcmVtb3RlIHN5c3RlbSBydW5zIE1pY3Jvc29mdCBXaW5kb3dzIHdoZW4gdXNpbmcgV2luUk0uXG4gICAqIEJlaGF2aW9ycyBiYXNlZCBvbiB0aGUgU1NIIHRhcmdldF9wbGF0Zm9ybSB3aWxsIGZvcmNlIFdpbmRvd3Mtc3BlY2lmaWMgYmVoYXZpb3IgZm9yIFdpblJNLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cbiAgICovXG4gIHJlYWRvbmx5IHR5cGU6IFwid2lucm1cIjtcblxuICAvKipcbiAgICogVGhlIHVzZXIgdG8gdXNlIGZvciB0aGUgY29ubmVjdGlvbi5cbiAgICpcbiAgICogQGRlZmF1bHQgcm9vdFxuICAgKi9cbiAgcmVhZG9ubHkgdXNlcj86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHBhc3N3b3JkIHRvIHVzZSBmb3IgdGhlIGNvbm5lY3Rpb24uXG4gICAqL1xuICByZWFkb25seSBwYXNzd29yZD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGFkZHJlc3Mgb2YgdGhlIHJlc291cmNlIHRvIGNvbm5lY3QgdG8uXG4gICAqL1xuICByZWFkb25seSBob3N0OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBwb3J0IHRvIGNvbm5lY3QgdG8uXG4gICAqXG4gICAqIEBkZWZhdWx0IDIyXG4gICAqL1xuICByZWFkb25seSBwb3J0PzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdGltZW91dCB0byB3YWl0IGZvciB0aGUgY29ubmVjdGlvbiB0byBiZWNvbWUgYXZhaWxhYmxlLlxuICAgKiBTaG91bGQgYmUgcHJvdmlkZWQgYXMgYSBzdHJpbmcgKGUuZy4sIFwiMzBzXCIgb3IgXCI1bVwiLilcbiAgICpcbiAgICogQGRlZmF1bHQgNW1cbiAgICovXG4gIHJlYWRvbmx5IHRpbWVvdXQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBwYXRoIHVzZWQgdG8gY29weSBzY3JpcHRzIG1lYW50IGZvciByZW1vdGUgZXhlY3V0aW9uLlxuICAgKiBSZWZlciB0byB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2xhbmd1YWdlL3Jlc291cmNlcy9wcm92aXNpb25lcnMvY29ubmVjdGlvbiNob3ctcHJvdmlzaW9uZXJzLWV4ZWN1dGUtcmVtb3RlLXNjcmlwdHMgSG93IFByb3Zpc2lvbmVycyBFeGVjdXRlIFJlbW90ZSBTY3JpcHRzIGJlbG93IGZvciBtb3JlIGRldGFpbHN9XG4gICAqL1xuICByZWFkb25seSBzY3JpcHRQYXRoPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBTZXQgdG8gdHJ1ZSB0byBjb25uZWN0IHVzaW5nIEhUVFBTIGluc3RlYWQgb2YgSFRUUC5cbiAgICovXG4gIHJlYWRvbmx5IGh0dHBzPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogU2V0IHRvIHRydWUgdG8gc2tpcCB2YWxpZGF0aW5nIHRoZSBIVFRQUyBjZXJ0aWZpY2F0ZSBjaGFpbi5cbiAgICovXG4gIHJlYWRvbmx5IGluc2VjdXJlPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogU2V0IHRvIHRydWUgdG8gdXNlIE5UTE0gYXV0aGVudGljYXRpb24gcmF0aGVyIHRoYW4gZGVmYXVsdCAoYmFzaWMgYXV0aGVudGljYXRpb24pLCByZW1vdmluZyB0aGUgcmVxdWlyZW1lbnQgZm9yIGJhc2ljIGF1dGhlbnRpY2F0aW9uIHRvIGJlIGVuYWJsZWQgd2l0aGluIHRoZSB0YXJnZXQgZ3Vlc3QuXG4gICAqIFJlZmVyIHRvIEF1dGhlbnRpY2F0aW9uIGZvciBSZW1vdGUgQ29ubmVjdGlvbnMgaW4gdGhlIFdpbmRvd3MgQXBwIERldmVsb3BtZW50IGRvY3VtZW50YXRpb24gZm9yIG1vcmUgZGV0YWlscy5cbiAgICovXG4gIHJlYWRvbmx5IHVzZU50bG0/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBUaGUgQ0EgY2VydGlmaWNhdGUgdG8gdmFsaWRhdGUgYWdhaW5zdC5cbiAgICovXG4gIHJlYWRvbmx5IGNhY2VydD86IHN0cmluZztcbn1cblxuLyoqXG4gKiBUaGUgZmlsZSBwcm92aXNpb25lciBjb3BpZXMgZmlsZXMgb3IgZGlyZWN0b3JpZXMgZnJvbSB0aGUgbWFjaGluZSBydW5uaW5nIFRlcnJhZm9ybSB0byB0aGUgbmV3bHkgY3JlYXRlZCByZXNvdXJjZS5cbiAqIFRoZSBmaWxlIHByb3Zpc2lvbmVyIHN1cHBvcnRzIGJvdGggc3NoIGFuZCB3aW5ybSB0eXBlIGNvbm5lY3Rpb25zLlxuICpcbiAqIFNlZSB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2xhbmd1YWdlL3Jlc291cmNlcy9wcm92aXNpb25lcnMvZmlsZSBmaWxlfVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVQcm92aXNpb25lciB7XG4gIHJlYWRvbmx5IHR5cGU6IFwiZmlsZVwiO1xuICAvKipcbiAgICogVGhlIHNvdXJjZSBmaWxlIG9yIGRpcmVjdG9yeS4gU3BlY2lmeSBpdCBlaXRoZXIgcmVsYXRpdmUgdG8gdGhlIGN1cnJlbnQgd29ya2luZyBkaXJlY3Rvcnkgb3IgYXMgYW4gYWJzb2x1dGUgcGF0aC5cbiAgICogVGhpcyBhcmd1bWVudCBjYW5ub3QgYmUgY29tYmluZWQgd2l0aCBjb250ZW50LlxuICAgKi9cbiAgcmVhZG9ubHkgZGVzdGluYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBkaXJlY3QgY29udGVudCB0byBjb3B5IG9uIHRoZSBkZXN0aW5hdGlvbi5cbiAgICogSWYgZGVzdGluYXRpb24gaXMgYSBmaWxlLCB0aGUgY29udGVudCB3aWxsIGJlIHdyaXR0ZW4gb24gdGhhdCBmaWxlLlxuICAgKiBJbiBjYXNlIG9mIGEgZGlyZWN0b3J5LCBhIGZpbGUgbmFtZWQgdGYtZmlsZS1jb250ZW50IGlzIGNyZWF0ZWQgaW5zaWRlIHRoYXQgZGlyZWN0b3J5LlxuICAgKiBXZSByZWNvbW1lbmQgdXNpbmcgYSBmaWxlIGFzIHRoZSBkZXN0aW5hdGlvbiB3aGVuIHVzaW5nIGNvbnRlbnQuXG4gICAqIFRoaXMgYXJndW1lbnQgY2Fubm90IGJlIGNvbWJpbmVkIHdpdGggc291cmNlLlxuICAgKi9cbiAgcmVhZG9ubHkgc291cmNlPzogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIGRlc3RpbmF0aW9uIHBhdGggdG8gd3JpdGUgdG8gb24gdGhlIHJlbW90ZSBzeXN0ZW0uXG4gICAqIFNlZSBEZXN0aW5hdGlvbiBQYXRocyBiZWxvdyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICovXG4gIHJlYWRvbmx5IGNvbnRlbnQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIE1vc3QgcHJvdmlzaW9uZXJzIHJlcXVpcmUgYWNjZXNzIHRvIHRoZSByZW1vdGUgcmVzb3VyY2UgdmlhIFNTSCBvciBXaW5STSBhbmQgZXhwZWN0IGEgbmVzdGVkIGNvbm5lY3Rpb24gYmxvY2sgd2l0aCBkZXRhaWxzIGFib3V0IGhvdyB0byBjb25uZWN0LlxuICAgKi9cbiAgcmVhZG9ubHkgY29ubmVjdGlvbj86IFNTSFByb3Zpc2lvbmVyQ29ubmVjdGlvbiB8IFdpbnJtUHJvdmlzaW9uZXJDb25uZWN0aW9uO1xufVxuXG4vKipcbiAqIFRoZSBsb2NhbC1leGVjIHByb3Zpc2lvbmVyIGludm9rZXMgYSBsb2NhbCBleGVjdXRhYmxlIGFmdGVyIGEgcmVzb3VyY2UgaXMgY3JlYXRlZC5cbiAqIFRoaXMgaW52b2tlcyBhIHByb2Nlc3Mgb24gdGhlIG1hY2hpbmUgcnVubmluZyBUZXJyYWZvcm0sIG5vdCBvbiB0aGUgcmVzb3VyY2UuXG4gKlxuICogU2VlIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vbGFuZ3VhZ2UvcmVzb3VyY2VzL3Byb3Zpc2lvbmVycy9sb2NhbC1leGVjIGxvY2FsLWV4ZWN9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTG9jYWxFeGVjUHJvdmlzaW9uZXIge1xuICByZWFkb25seSB0eXBlOiBcImxvY2FsLWV4ZWNcIjtcbiAgLyoqXG4gICAqIFRoaXMgaXMgdGhlIGNvbW1hbmQgdG8gZXhlY3V0ZS5cbiAgICogSXQgY2FuIGJlIHByb3ZpZGVkIGFzIGEgcmVsYXRpdmUgcGF0aCB0byB0aGUgY3VycmVudCB3b3JraW5nIGRpcmVjdG9yeSBvciBhcyBhbiBhYnNvbHV0ZSBwYXRoLlxuICAgKiBJdCBpcyBldmFsdWF0ZWQgaW4gYSBzaGVsbCwgYW5kIGNhbiB1c2UgZW52aXJvbm1lbnQgdmFyaWFibGVzIG9yIFRlcnJhZm9ybSB2YXJpYWJsZXMuXG4gICAqL1xuICByZWFkb25seSBjb21tYW5kOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBJZiBwcm92aWRlZCwgc3BlY2lmaWVzIHRoZSB3b3JraW5nIGRpcmVjdG9yeSB3aGVyZSBjb21tYW5kIHdpbGwgYmUgZXhlY3V0ZWQuXG4gICAqIEl0IGNhbiBiZSBwcm92aWRlZCBhcyBhIHJlbGF0aXZlIHBhdGggdG8gdGhlIGN1cnJlbnQgd29ya2luZyBkaXJlY3Rvcnkgb3IgYXMgYW4gYWJzb2x1dGUgcGF0aC5cbiAgICogVGhlIGRpcmVjdG9yeSBtdXN0IGV4aXN0LlxuICAgKi9cbiAgcmVhZG9ubHkgd29ya2luZ0Rpcj86IHN0cmluZztcbiAgLyoqXG4gICAqIElmIHByb3ZpZGVkLCB0aGlzIGlzIGEgbGlzdCBvZiBpbnRlcnByZXRlciBhcmd1bWVudHMgdXNlZCB0byBleGVjdXRlIHRoZSBjb21tYW5kLlxuICAgKiBUaGUgZmlyc3QgYXJndW1lbnQgaXMgdGhlIGludGVycHJldGVyIGl0c2VsZi5cbiAgICogSXQgY2FuIGJlIHByb3ZpZGVkIGFzIGEgcmVsYXRpdmUgcGF0aCB0byB0aGUgY3VycmVudCB3b3JraW5nIGRpcmVjdG9yeSBvciBhcyBhbiBhYnNvbHV0ZSBwYXRoXG4gICAqIFRoZSByZW1haW5pbmcgYXJndW1lbnRzIGFyZSBhcHBlbmRlZCBwcmlvciB0byB0aGUgY29tbWFuZC5cbiAgICogVGhpcyBhbGxvd3MgYnVpbGRpbmcgY29tbWFuZCBsaW5lcyBvZiB0aGUgZm9ybSBcIi9iaW4vYmFzaFwiLCBcIi1jXCIsIFwiZWNobyBmb29cIi5cbiAgICogSWYgaW50ZXJwcmV0ZXIgaXMgdW5zcGVjaWZpZWQsIHNlbnNpYmxlIGRlZmF1bHRzIHdpbGwgYmUgY2hvc2VuIGJhc2VkIG9uIHRoZSBzeXN0ZW0gT1MuXG4gICAqL1xuICByZWFkb25seSBpbnRlcnByZXRlcj86IHN0cmluZ1tdO1xuICAvKipcbiAgICogIEEgcmVjb3JkIG9mIGtleSB2YWx1ZSBwYWlycyByZXByZXNlbnRpbmcgdGhlIGVudmlyb25tZW50IG9mIHRoZSBleGVjdXRlZCBjb21tYW5kLlxuICAgKiBJdCBpbmhlcml0cyB0aGUgY3VycmVudCBwcm9jZXNzIGVudmlyb25tZW50LlxuICAgKi9cbiAgcmVhZG9ubHkgZW52aXJvbm1lbnQ/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICAvKipcbiAgICogSWYgcHJvdmlkZWQsIHNwZWNpZmllcyB3aGVuIFRlcnJhZm9ybSB3aWxsIGV4ZWN1dGUgdGhlIGNvbW1hbmQuXG4gICAqIEZvciBleGFtcGxlLCB3aGVuID0gZGVzdHJveSBzcGVjaWZpZXMgdGhhdCB0aGUgcHJvdmlzaW9uZXIgd2lsbCBydW4gd2hlbiB0aGUgYXNzb2NpYXRlZCByZXNvdXJjZSBpcyBkZXN0cm95ZWRcbiAgICovXG4gIHJlYWRvbmx5IHdoZW4/OiBcImRlc3Ryb3lcIiB8IFwiY3JlYXRlXCI7XG59XG5cbi8qKlxuICogVGhlIHJlbW90ZS1leGVjIHByb3Zpc2lvbmVyIGludm9rZXMgYSBzY3JpcHQgb24gYSByZW1vdGUgcmVzb3VyY2UgYWZ0ZXIgaXQgaXMgY3JlYXRlZC5cbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gcnVuIGEgY29uZmlndXJhdGlvbiBtYW5hZ2VtZW50IHRvb2wsIGJvb3RzdHJhcCBpbnRvIGEgY2x1c3RlciwgZXRjXG4gKiBUaGUgcmVtb3RlLWV4ZWMgcHJvdmlzaW9uZXIgcmVxdWlyZXMgYSBjb25uZWN0aW9uIGFuZCBzdXBwb3J0cyBib3RoIHNzaCBhbmQgd2lucm0uXG4gKlxuICogU2VlIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vbGFuZ3VhZ2UvcmVzb3VyY2VzL3Byb3Zpc2lvbmVycy9yZW1vdGUtZXhlYyByZW1vdGUtZXhlY31cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZW1vdGVFeGVjUHJvdmlzaW9uZXIge1xuICByZWFkb25seSB0eXBlOiBcInJlbW90ZS1leGVjXCI7XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgYSBsaXN0IG9mIGNvbW1hbmQgc3RyaW5ncy5cbiAgICogVGhleSBhcmUgZXhlY3V0ZWQgaW4gdGhlIG9yZGVyIHRoZXkgYXJlIHByb3ZpZGVkLlxuICAgKiBUaGlzIGNhbm5vdCBiZSBwcm92aWRlZCB3aXRoIHNjcmlwdCBvciBzY3JpcHRzLlxuICAgKi9cbiAgcmVhZG9ubHkgaW5saW5lPzogc3RyaW5nW107XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgYSBwYXRoIChyZWxhdGl2ZSBvciBhYnNvbHV0ZSkgdG8gYSBsb2NhbCBzY3JpcHQgdGhhdCB3aWxsIGJlIGNvcGllZCB0byB0aGUgcmVtb3RlIHJlc291cmNlIGFuZCB0aGVuIGV4ZWN1dGVkLlxuICAgKiBUaGlzIGNhbm5vdCBiZSBwcm92aWRlZCB3aXRoIGlubGluZSBvciBzY3JpcHRzLlxuICAgKi9cbiAgcmVhZG9ubHkgc2NyaXB0Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGlzIGlzIGEgbGlzdCBvZiBwYXRocyAocmVsYXRpdmUgb3IgYWJzb2x1dGUpIHRvIGxvY2FsIHNjcmlwdHMgdGhhdCB3aWxsIGJlIGNvcGllZCB0byB0aGUgcmVtb3RlIHJlc291cmNlIGFuZCB0aGVuIGV4ZWN1dGVkLlxuICAgKiBUaGV5IGFyZSBleGVjdXRlZCBpbiB0aGUgb3JkZXIgdGhleSBhcmUgcHJvdmlkZWQuXG4gICAqIFRoaXMgY2Fubm90IGJlIHByb3ZpZGVkIHdpdGggaW5saW5lIG9yIHNjcmlwdC5cbiAgICovXG4gIHJlYWRvbmx5IHNjcmlwdHM/OiBzdHJpbmdbXTtcblxuICAvKipcbiAgICogTW9zdCBwcm92aXNpb25lcnMgcmVxdWlyZSBhY2Nlc3MgdG8gdGhlIHJlbW90ZSByZXNvdXJjZSB2aWEgU1NIIG9yIFdpblJNIGFuZCBleHBlY3QgYSBuZXN0ZWQgY29ubmVjdGlvbiBibG9jayB3aXRoIGRldGFpbHMgYWJvdXQgaG93IHRvIGNvbm5lY3QuXG4gICAqIEEgY29ubmVjdGlvbiBtdXN0IGJlIHByb3ZpZGVkIGhlcmUgb3IgaW4gdGhlIHBhcmVudCByZXNvdXJjZS5cbiAgICovXG4gIHJlYWRvbmx5IGNvbm5lY3Rpb24/OiBTU0hQcm92aXNpb25lckNvbm5lY3Rpb24gfCBXaW5ybVByb3Zpc2lvbmVyQ29ubmVjdGlvbjtcbn1cblxuLyoqXG4gKiBFeHByZXNzaW9ucyBpbiBjb25uZWN0aW9uIGJsb2NrcyBjYW5ub3QgcmVmZXIgdG8gdGhlaXIgcGFyZW50IHJlc291cmNlIGJ5IG5hbWUuXG4gKiBSZWZlcmVuY2VzIGNyZWF0ZSBkZXBlbmRlbmNpZXMsIGFuZCByZWZlcnJpbmcgdG8gYSByZXNvdXJjZSBieSBuYW1lIHdpdGhpbiBpdHMgb3duIGJsb2NrIHdvdWxkIGNyZWF0ZSBhIGRlcGVuZGVuY3kgY3ljbGUuXG4gKiBJbnN0ZWFkLCBleHByZXNzaW9ucyBjYW4gdXNlIHRoZSBzZWxmIG9iamVjdCwgd2hpY2ggcmVwcmVzZW50cyB0aGUgY29ubmVjdGlvbidzIHBhcmVudCByZXNvdXJjZSBhbmQgaGFzIGFsbCBvZiB0aGF0IHJlc291cmNlJ3MgYXR0cmlidXRlcy5cbiAqIEZvciBleGFtcGxlLCB1c2Ugc2VsZi5wdWJsaWNfaXAgdG8gcmVmZXJlbmNlIGFuIGF3c19pbnN0YW5jZSdzIHB1YmxpY19pcCBhdHRyaWJ1dGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBUZXJyYWZvcm1TZWxmIHtcbiAgcHJpdmF0ZSBzdGF0aWMgZ2V0SW50ZXJwb2xhdGlvbihrZXk6IHN0cmluZykge1xuICAgIHJldHVybiBgc2VsZi4ke3NuYWtlQ2FzZShrZXkpfWA7XG4gIH1cblxuICAvKipcbiAgICogT25seSB1c2FibGUgd2l0aGluIGEgY29ubmVjdGlvbiBibG9jayB0byByZWZlcmVuY2UgdGhlIGNvbm5lY3Rpb25zIHBhcmVudCByZXNvdXJjZS5cbiAgICogQWNjZXNzIGEgcHJvcGVydHkgb24gdGhlIHJlc291cmNlIGxpa2UgdGhpczogYGdldFN0cmluZyhcInB1YmxpY0lwXCIpYFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBnZXRTdHJpbmcoa2V5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBUb2tlbi5hc1N0cmluZyhyZWYoVGVycmFmb3JtU2VsZi5nZXRJbnRlcnBvbGF0aW9uKGtleSkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPbmx5IHVzYWJsZSB3aXRoaW4gYSBjb25uZWN0aW9uIGJsb2NrIHRvIHJlZmVyZW5jZSB0aGUgY29ubmVjdGlvbnMgcGFyZW50IHJlc291cmNlLlxuICAgKiBBY2Nlc3MgYSBwcm9wZXJ0eSBvbiB0aGUgcmVzb3VyY2UgbGlrZSB0aGlzOiBgZ2V0TnVtYmVyKFwiaG9zdFBvcnRcIilgXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGdldE51bWJlcihrZXk6IHN0cmluZyk6IG51bWJlciB7XG4gICAgcmV0dXJuIFRva2VuLmFzTnVtYmVyKHJlZihUZXJyYWZvcm1TZWxmLmdldEludGVycG9sYXRpb24oa2V5KSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIE9ubHkgdXNhYmxlIHdpdGhpbiBhIGNvbm5lY3Rpb24gYmxvY2sgdG8gcmVmZXJlbmNlIHRoZSBjb25uZWN0aW9ucyBwYXJlbnQgcmVzb3VyY2UuXG4gICAqIEFjY2VzcyBhIHByb3BlcnR5IG9uIHRoZSByZXNvdXJjZSBsaWtlIHRoaXM6IGBnZXRBbnkoXCJob3N0UG9ydFwiKWBcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgZ2V0QW55KGtleTogc3RyaW5nKTogYW55IHtcbiAgICByZXR1cm4gVG9rZW4uYXNBbnkocmVmKFRlcnJhZm9ybVNlbGYuZ2V0SW50ZXJwb2xhdGlvbihrZXkpKSk7XG4gIH1cbn1cbiJdfQ==